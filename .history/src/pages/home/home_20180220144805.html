<ion-header>
    <ion-grid style="position: fixed;height: 34%;" class="content-stable">
        <ion-row>
            <ion-col>
                <img src="assets/imgs/logo.png" class="logo-style">
                <div padding class="text-under-logo">
                    <p>{{ 'REGISTER_TEXT' | translate }}</p>
                </div>
                <div>
                    <ion-segment [(ngModel)]="segment" class="background-stable" style="position: fixed;;margin-left: -3%;">
                        <ion-segment-button value="login">
                            Login
                        </ion-segment-button>
                        <ion-segment-button value="cadastrarEmpresa">
                            {{ 'CADASTRAR_EMPRESA' | translate }}
                        </ion-segment-button>
                    </ion-segment>
                </div>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-header>

<ion-content>
    <!-- <ion-segment [(ngModel)]="segment" (ionChange)="updateUserData()"> -->
    <div style="margin-top: 250px;">
        <!-- <div>
            <ion-segment [(ngModel)]="segment" class="background-stable" style="position: fixed;margin-top: -15%;">
                <ion-segment-button value="vagasDestaque">
                    Vagas em destaque
                </ion-segment-button>
                <ion-segment-button value="login">
                    Login
                </ion-segment-button>
            </ion-segment>
        </div> -->

        <div [ngSwitch]="segment" style="margin-top: 45px;">
            <ion-list *ngSwitchCase="'cadastrarEmpresa'">
                <!-- <ion-refresher (ionRefresh)="doRefresh($event)" style="margin-top: 200px;">
                    <ion-refresher-content></ion-refresher-content>
                </ion-refresher> -->
                <div class="h2-color-cards" text-wrap padding style="margin-top: 50px;" *ngIf="vagas?.length == 0">
                    <div style="text-align: center;color: #484848;"><strong>{{ 'SEM_VAGAS_DESTAQUE' | translate }}</strong></div>
                    <div style="text-align: center;">
                        <ion-icon style="font-size: 30px;color: #484848;" ios="ios-sad" md="md-sad"></ion-icon>
                    </div>
                </div>
                <ion-card *ngFor="let vaga of vagas">
                    <ion-card-header text-wrap>
                        <strong>{{vaga.nome}}</strong>
                    </ion-card-header>
                    <ion-card-content>
                        <p>{{vaga.descricao}}</p>
                        <p>{{vaga.cidadeEstadoFormat}}</p>
                        <p style="color: #999">
                            <ion-icon ios="ios-calendar" md="md-calendar"></ion-icon> {{vaga.tempoAberto}}
                        </p>
                    </ion-card-content>
                    <ion-row class="border-top-color">
                        <ion-col>
                        </ion-col>
                        <ion-col>
                            <button ion-button clear item-end icon-left (click)="candidatarVaga(vaga.idVaga)">
                                <ion-icon ios="ios-thumbs-up" md="md-thumbs-up"></ion-icon>
                                <strong><h3 style="color: #488AFF;">{{ 'BTN_CANDIDATAR_VAGA' | translate }}</h3></strong>
                            </button>
                            <!-- <button ion-button icon-left clear small (click)="candidatarVaga(vaga.idVaga)">
                                <ion-icon ios="ios-thumbs-up" md="md-thumbs-up"></ion-icon>
                                <div>CANDIDATAR-ME</div>
                            </button> -->
                        </ion-col>
                    </ion-row>
                </ion-card>

            </ion-list>

            <ion-list *ngSwitchCase="'login'">
                <!-- <ion-content padding *ngSwitchCase="'login'"> -->
                <form [formGroup]="loginForm" (ngSubmit)="submeterLogin()">

                    <ion-item>
                        <ion-label stacked color="dark">{{ 'EMAIL' | translate }}</ion-label>
                        <!-- <ion-input [(ngModel)]="usuarioEntity.login" formControlName="login" type="email" placeholder="Ex.: nome@email.com" spellcheck="false" autocapitalize="off"></ion-input> -->
                        <ion-input formControlName="login" type="email" placeholder="Ex.: {{ 'PLACE_EMAIL' | translate }}" spellcheck="false" autocapitalize="off"></ion-input>
                    </ion-item>
                    <div *ngIf="(!loginForm.get('login').valid && loginForm.get('login').touched) && !loginForm.get('login').hasError('pattern')" [ngClass]="'class-error-form'">{{ 'CAMPO_OBRIGATORIO' | translate }}</div>
                    <div *ngIf="loginForm.get('login').hasError('pattern')" [ngClass]="'class-error-form'">{{ 'EMAIL_INVALIDO' | translate }}</div>

                    <ion-item>
                        <ion-label stacked color="dark">{{ 'SENHA' | translate }}</ion-label>
                        <!-- <ion-input [(ngModel)]="usuarioEntity.senha" formControlName="senha" type="password" placeholder="Digite sua senha"></ion-input> -->
                        <ion-input formControlName="senha" type="password" placeholder="{{ 'DIGITE_SENHA' | translate }}"></ion-input>
                    </ion-item>
                    <div *ngIf="!loginForm.get('senha').valid && loginForm.get('senha').touched" [ngClass]="'class-error-form'">{{ 'CAMPO_OBRIGATORIO' | translate }}</div>

                    <button ion-button block type="submit" color="navbarColor" class="margin-button-save span-style-color">{{ 'ENTRAR' | translate }}</button>
                </form>

                <div class="forgot-pass-style-div">
                    <a (click)="goRecuperarSenha()" class="botao01">{{ 'ESQUECI_SENHA' | translate }}</a>
                </div>

                <!-- </ion-content> -->
            </ion-list>
        </div>

    </div>

</ion-content>